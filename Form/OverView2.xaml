<Window x:Class="CreatePipe.Form.OverView2"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="加密锁设置" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#F0F0F0">

    <Window.Resources>
        <!-- 主要蓝色按钮样式 -->
        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#0078D7"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="3">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#005A9E"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- 顶部边框按钮样式 -->
        <Style x:Key="HeaderBorderStyle" TargetType="Button" BasedOn="{StaticResource PrimaryButtonStyle}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="White"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <!-- 链接式按钮样式 -->
        <Style x:Key="LinkButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="#0078D7"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <ContentPresenter/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <!--<Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="TextElement.TextDecorations" Value="Underline"/>
                </Trigger>
            </Style.Triggers>-->
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- 顶部蓝色标题栏 -->
            <RowDefinition Height="*"/>
            <!-- 主内容区 -->
        </Grid.RowDefinitions>

        <!-- 1. 顶部蓝色标题栏 -->
        <Border Grid.Row="0" Background="#0078D7" Padding="15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 左侧: 返回、图标、标题 -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Content="← 返回" Foreground="White" Background="Transparent" BorderThickness="0" FontSize="14" VerticalAlignment="Center"/>

                    <!-- 图标占位符 -->
                    <Border Width="40" Height="40" CornerRadius="20" Background="#FFFFFF30" Margin="15,0">
                        <Path Data="M10,4 H2 V12 H10 Z M0,6 H12 M0,10 H12 M3,0 V2" Stroke="White" StrokeThickness="2" 
                              HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="Uniform"/>
                    </Border>

                    <TextBlock Text="加密锁设置" FontSize="22" FontWeight="Bold" Foreground="White" VerticalAlignment="Center"/>
                </StackPanel>

                <!-- 右侧: 功能按钮 -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Content="测试设置" Style="{StaticResource HeaderBorderStyle}" Margin="0,0,10,0"/>
                    <Button Content="查看已购" Style="{StaticResource HeaderBorderStyle}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 2. 主内容区 -->
        <Border Grid.Row="1" Background="White" Padding="30">
            <StackPanel>
                <!-- 查找选项 -->
                <RadioButton Content="自动查找加密锁" GroupName="FindMode" FontSize="14" Margin="0,0,0,10"/>
                <RadioButton Content="指定查找加密锁" GroupName="FindMode" IsChecked="True" FontSize="14"/>

                <!-- 子选项 (缩进) -->
                <StackPanel Margin="25,10,0,20">
                    <CheckBox Content="查找当前机器上的加密锁 (单机锁、网络锁)" IsChecked="True" Margin="0,0,0,10"/>
                    <CheckBox Content="查找同网段其他机器上的网络锁" Margin="0,0,0,10"/>
                    <CheckBox Content="查找指定的网络授权" IsChecked="True"/>
                </StackPanel>

                <!-- 操作按钮区 -->
                <Grid Margin="25,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Button Grid.Column="0" Content="添加网络锁" Style="{StaticResource PrimaryButtonStyle}"/>
                    <Button Grid.Column="1" Content="添加云授权" Style="{StaticResource PrimaryButtonStyle}" Margin="10,0,0,0"/>
                    <Button Grid.Column="3" Style="{StaticResource LinkButtonStyle}">
                        <StackPanel Orientation="Horizontal">
                            <!-- 刷新图标占位符 -->
                            <Path Data="M1,5 A4,4 0 1 1 5,9 M5,9 L5,6 M5,9 L8,9" Stroke="#666" StrokeThickness="1.5" Margin="0,0,5,0"/>
                            <TextBlock Text="刷新列表" VerticalAlignment="Center" Foreground="#666"/>
                        </StackPanel>
                    </Button>
                </Grid>

                <!-- 数据显示区 -->
                <DataGrid AutoGenerateColumns="False" HeadersVisibility="Column" CanUserAddRows="False"
                          GridLinesVisibility="Horizontal" HorizontalGridLinesBrush="#E0E0E0"
                          BorderThickness="1" BorderBrush="#E0E0E0" Background="White">
                    <DataGrid.Resources>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="#F8F8F8"/>
                            <Setter Property="Padding" Value="10,8"/>
                            <Setter Property="FontWeight" Value="SemiBold"/>
                            <Setter Property="BorderThickness" Value="0,0,1,1"/>
                            <Setter Property="BorderBrush" Value="#E0E0E0"/>
                        </Style>
                        <Style TargetType="DataGridCell">
                            <Setter Property="Padding" Value="10,8"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Focusable" Value="False"/>
                        </Style>
                    </DataGrid.Resources>
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="服务器地址" Binding="{Binding ServerAddress}" Width="*"/>
                        <DataGridTextColumn Header="加密锁" Binding="{Binding KeyId}" Width="2*"/>

                        <!-- 状态列 (使用模板) -->
                        <DataGridTemplateColumn Header="状态" Width="Auto">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <!-- 成功图标占位符 -->
                                    <Ellipse Width="16" Height="16" Fill="Green" HorizontalAlignment="Center">
                                        <Ellipse.OpacityMask>
                                            <VisualBrush Stretch="Uniform">
                                                <VisualBrush.Visual>
                                                    <Path Data="M4,8 L7,11 L12,5" Stroke="White" StrokeThickness="2"/>
                                                </VisualBrush.Visual>
                                            </VisualBrush>
                                        </Ellipse.OpacityMask>
                                    </Ellipse>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                        <!-- 操作列 (使用模板) -->
                        <DataGridTemplateColumn Header="操作" Width="Auto">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Button Content="删除" Style="{StaticResource LinkButtonStyle}"/>
                                        <TextBlock Text="|" Margin="8,0" Foreground="#DDD"/>
                                        <Button Content="编辑" Style="{StaticResource LinkButtonStyle}"/>
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>

                    </DataGrid.Columns>

                    <!-- 示例数据 -->
                    <!--<DataGrid.Items>
                        <x:Static Member="System.Windows.SystemColors.HighlightBrush"/>
                        --><!-- 仅为设计时占位，请用数据绑定替换 --><!--
                    </DataGrid.Items>-->
                </DataGrid>

            </StackPanel>
        </Border>

        <!-- 3. 弹出确认框 (通常是独立的Window，这里用Grid模拟) -->
        <!--<Grid x:Name="ConfirmationPopup" Background="#80000000" Visibility="Visible">
            <Border Background="White" CornerRadius="5" Padding="25"
                    HorizontalAlignment="Center" VerticalAlignment="Center"
                    Width="350" MinHeight="150">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center">
                        --><!-- 信息图标 --><!--
                        <Border Width="30" Height="30" CornerRadius="15" Background="#0078D7">
                            <TextBlock Text="i" Foreground="White" FontSize="20" FontWeight="Bold" 
                                        HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,-2,0,0"/>
                        </Border>
                        <TextBlock Text="确定要删除该服务器吗？" FontSize="16" VerticalAlignment="Center" Margin="15,0,0,0"/>
                    </StackPanel>

                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                        <Button Content="确定" Style="{StaticResource PrimaryButtonStyle}" MinWidth="80"/>
                        <Button Content="取消" BorderBrush="#CCC" BorderThickness="1" Background="Transparent" 
                                Padding="15,8" MinWidth="80" Margin="10,0,0,0"/>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>-->

    </Grid>
</Window>
